<html>
<head>
  <title>Lifecycle | DInject dependency injection</title>
  <meta name="layout" content="_layout/docs.html"/>
  <template id="menuNav"><#include "/_layout/_docs_nav_index.ftl"></template>
  <meta name="bread1" content="Lifecycle" href="/docs/lifecycle"/>
  <#assign lifecycle="active">
</head>
<body>

<h2>@PostConstruct</h2>
<p>
  Put <code>@PostConstruct</code> on a method that we want to run on startup just after all the
  beans have been wired.
</p>
<p>
  Typically we open a resource like network connections to a remote resource (cache, queue, database etc).
</p>
<pre content="java">
@Singleton
public class CoffeeMaker {

  ...

  @PostConstruct
  public onStartup() {
    // connect to remote resource ...
    ...
  }
  ...
</pre>

<h2>@PreDestroy</h2>
<p>
  Put <code>@PreDestroy</code> on a method that we want to run on shutdown.
</p>
<p>
  Typically we want this method to close resources.
</p>
<pre content="java">
@Singleton
public class CoffeeMaker {

  ...

  @PreDestroy
  public onShutdown() {
    // close resources
    ...
  }
  ...
</pre>

<h2>@Bean(initMethod = "init")</h2>
<p>
  For beans
</p>

<h2>@Bean(destroyMethod = "close")</h2>

<@next "Factory" "factory"/>

</body>
</html>
