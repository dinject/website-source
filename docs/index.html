<html>
<head>
  <meta name="layout" content="_layout/docs.html"/>
  <template id="menuNav"><#include "/_layout/_docs_nav_index.ftl"></template>
  <meta name="bread1" content="DInject" href="/docs/"/>
  <#assign index="active">
</head>
<body>

<h2 id="dinject">DInject Dependency Injection</h2>
<p>
  DInject is designed to be a fast and light dependency injection library for server-side Java and Kotlin
  developers.
</p>
<p>
  It uses source code generation (like Dagger). There is no use of reflection or classpath scanning.
</p>
<p>
  It is orientated to server-side use by providing similar functionality to Spring DI including Lifecycle support,
  @Factory + @Bean, @Primary + @Secondary and the ability to get beans from the context.
</p>

<h2 id="jsr-330">Based on JSR-330</h2>
<p>
  DInject is based on <a href="http://javax-inject.github.io/javax-inject/api/index.html">JSR-330: Dependency Injection for Java</a>
  - <em>javax.inject</em> with some extensions similar to Spring DI.
</p>

<h2 id="extensions">Spring DI like extensions</h2>
<h4>@Factory + @Bean</h4>
<p>
  DInject has <a href="/docs/factory">@Factory + @Bean</a> which work the same as Spring DI's
  <em>@Configuration + @Bean</em> and also Micronaut's <em>@Factory + @Bean</em>.
</p>
<p>
  This provides a more convenient alternative to the JSR-330 <em>javax.inject.Provider&lt;T&gt;</em>
  interface and is also more natural for people who familiar with Spring DI or Micronaut DI.
</p>

<h4>@Primary @Secondary</h4>
<p>
  DInject has <a href="/docs/primary">@Primary @Secondary</a> annotations which work the same as
  Spring DI's <em>@Primary @Secondary</em> and also Micronaut DI's <em>@Primary @Secondary</em>.
</p>
<p>
  These provide injection precedence in the case of injecting
  an implementation when multiple injection candidates are available.
</p>

<h2 id="spring">Spring DI translation</h2>

<table class="table">
  <tr>
    <th width="45%">Spring</th>
    <th width="45%">DInject</th>
    <th width="10%">JSR-330</th>
  </tr>
  <tr>
    <td>@Component, @Service, @Controller, @Repository</td>
    <td><a href="/docs/injection#singleton">@javax.inject.Singleton</a></td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>FactoryBean&lt;T&gt;</td>
    <td><a href="/docs/injection#provider">javax.inject.Provider&lt;T&gt;</a></td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>@Inject, @Autowired</td>
    <td><a href="/docs/injection#inject">@javax.inject.Inject</a></td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>@Autowired(required=false)</td>
    <td><a href="/docs/injection#optional">@javax.inject.Inject Optional&lt;T&gt;</a></td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>@PostConstruct</td>
    <td><a href="/docs/lifecycle#postConstruct">@javax.inject.PostConstruct</a></td>
    <td>Yes</td>
  </tr>
  <tr>
    <td>@PreDestroy</td>
    <td><a href="/docs/lifecycle#preDestroy">@javax.inject.PreDestroy</a></td>
    <td>Yes</td>
  </tr>
  <tr>
    <td colspan="3" align="center" style="padding-top:2em;"><i>Non standard extensions to JSR-330</i></td>
  </tr>
  <tr>
    <td>@Configuration @Bean</td>
    <td><a href="/docs/factory">@Factory @Bean</a></td>
    <td><b>No</b></td>
  </tr>
  <tr>
    <td>@Primary</td>
    <td><a href="/docs/primary">@Primary</a></td>
    <td><b>No</b></td>
  </tr>
  <tr>
    <td>@Secondary</td>
    <td><a href="/docs/primary#secondary">@Secondary</a></td>
    <td><b>No</b></td>
  </tr>
</table>

<h2 id="aop">AOP</h2>
<p>
  Using libraries that provide their own AOP/enhancement makes DInject simpler and lighter.
</p>
<p>
  Currently DInject does not include AOP and the expectation is that AOP functionality comes
  with other libraries. For example Ebean ORM has
  <code><a href="https://ebean.io/docs/transactions/">@Transactional</a></code> and Metrics
  libraries have their own <code><a href="https://avaje.io/metrics/">@Timed</a></code>.
</p>
<p>
  The following are library recommendations for @Transactional, @Value and @Timed.
</p>

<table class="table">
  <tr>
    <th width="50%">Spring</th>
    <th width="50%">Recommendation</th>
  </tr>
  <tr>
    <td>@Transactional</td>
    <td><a href="https://ebean.io/docs/transactions/">Ebean @Transactional</a></td>
  </tr>
  <tr>
    <td>@Value</td>
    <td><a href="https://avaje.io/config/">Avaje Config</a></td>
  </tr>
  <tr>
    <td>@Timed</td>
    <td><a href="https://avaje.io/metrics/">Avaje Metrics</a></td>
  </tr>
</table>

<@next "Maven" "maven"/>

</body>
</html>
